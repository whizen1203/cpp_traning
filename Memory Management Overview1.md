## 메모리 관리 개요
=====

### '메모리'란?
: 프로그램을 실행하는 중요작업공간

#### 메모리 관점 
-----
##### 1. 논리적 주소(가상 주소)
: 프로그래밍시 논리적 관점의 논리적 주소로 메모리를 바라본다. 오브젝트 코드가 저장된 공간과 프로그램에서 사용하는 자료구조 등이 해당된다.

##### 2. 물리적 주소
: 실제 데이터나 프로그램을 저장하는 공간으로, **논리적 주소에 대응하여 적재하는 '실제 주소'** 를 의미한다.


### MMU(Memory Management Unit, 메모리 관리 장치)란?
: CPU가 메모리에 접근하는 것을 관리하는 컴퓨터 하드웨어 부품으로 논리적 주소를 실제 메모리주소로 변환하는 등의 기능을 맡는다. 
- Q1. 논리적 주소에서 물리적 주소간의 변환?  
= A1. 매핑, 바인딩 등을 말하는 것.

- Q2. 변환방법의 종류는? 
= A2. 고정분할, 동적분할, 페이징(Paging), 세그먼테이션(Segmentation) 등이 있다.


### 메모리 적재 방법

#### 1. 연속 메모리 적재
: 직접 배치, 오버레이, 고정 분할 등을 통해 가능하다. 

##### 고정분할 
: 고정분할은 **모두 같은 크기의 메모리로 할당하는 방법** 이다. 단, 고정분할을 사용할 경우 **외부 / 내부의 단편화를 초래하여 ***'엄청난 메모리 낭비'*** 를 일으킨다.**

#### 2. 분산(비연속) 메모리 적재
: 프로그램 하나가 물리적 주소의 여러 공간에 분산하여 올라가는 기법. 분산 메모리 적재 안에서도 고정분할(Paging), 가변분할(Segmentation)으로 나뉠 수 있다.

![img1](https://ifh.cc/g/4ksF7y.png)


### 메모리 단편화(Fragmentation)
: 메모리의 빈 공간 또는 자료가 여러 조각으로 나뉘는 현상. 공간이 나뉘어 떨어져 있으면, 공간이 충분히 남아도 단편화된 메모리 한덩어리의 크기를 넘어가는 프로세스가 메모리에 올라가지 못한다.

#### 1. 내부 단편화
: 프로세스 내부에서 발생하는 단편화로, **[프로세스 안에 할당된 메모리 공간] > [실제로 프로세스가 필요한 공간]** 이 성립할 떄 발생한다. 즉, **단순하게 프로세스에 할당된 메모리가 요구 메모리에 비해 부족해서 발생한 것.**

#### 2. 외부 단편화
: 총 메모리는 충분하지만, 메모리 공간이 최소 둘 이상으로 나뉘어 있어, 실제로 할당할 수 없는 상황이다. 할당과 해제가 여러번 일어나 중간중간 사용되지 않는 작은 메모리들이 생겨 발생한다. 작은 메모리가 할당된 하나의 영역 '외부'에서 발생하기 때문에 외부 단편화라고 명시한다.



### 페이징(Paging)
: 프로세스를 일정한 크기의 페이지(page)로 나누어 메모리에 적재하는 가상메모리와 물리메모리의 매핑(mapping) 기술. 논리적 주소를 동일한 크기로 자르고, 물리적 주소도 동일한 크기로 잘라 자투리공간(hole)이 발생하지 않도록 하는 기법이다.

#### 페이징의 동작방식
: 가상기억장치를 모두 같은 크기의 블록으로 편성(고정분할)하면, 일정한 크기를 가진 블록이 되며, 명칭 구별을 위해 아래의 기준으로 구분한다. 

논리적 메모리가 나누어진 블록 == 페이지(page) / 물리적 메모리가 나누어진 블록 == 프레임(frame)

홀(hole)이 프로세스 영역 외부에 생겨 발생하는 외부 단편화는 해결할 수 있지만, **내부 단편화는 해결할 수 없다.** 하지만, 내부 단편화에 의해 낭비되는 메모리 공간은 무시해도 좋을 정도로 작은 크기에 해당된다.(page size -1)

작게 만들어진 조각 프로세스들을 실행하기 위해 페이지와 프레임을 매핑(mapping)하여 연속적으로 연결하기 위해 **페이지 매핑 테이블(Page Mapping Table)을 사용한다.**



# **페이지 테이블 관련 설명 때문에 나눕니다.**
