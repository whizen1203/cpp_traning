## 라이브러리에 대하여.
======

### 라이브러리의 정의 
: 프로그래밍에 사용할 수 있게 미리 만들어져 이쓴 함수나 변수들의 묶음.


##### 장점 : 
1. 코드를 재사용하기 쉽다.

2. 코드의 내용을 숨겨 기술 유출을 방지할 수 있다.

3. 이미 구현되어 있는 기능들을 가져다 쓸 수 있어 개발 시간을 단축할 수 있다.

4 컴파일 시간을 단축할 수 있다. (라이브러리는 미리 컴파일 되어 있기 때문에 링킹만 하면 바로 사용 가능.)


### 라이브러리를 사용하는데 헤더 파일(.h)이 필요한 이유
: #include 지시문을 통해 라이브러리 헤더 파일을 삽입하는 과정이 필요함. 
링커가 최종 실행 파일을 생성하려면 모든 함수의 심볼을 필요로 함.
그리고 헤더 피일이 심볼 생성하는 역할을 맡는다.


### 라이브러리 종류
정적 라이브러리 / 동적 라이브러리(공유 라이브러리)


#### 정적 라이브러리(Static Link Library)
: **정적 링킹(Static Linking)** 과정에서 링커가 프로그램에 필요한 부분을 라이브러리에서 찾아 실행 파일에 복사하는 방식의 라이브러리를 의미한다.

확장자 명 : 
win == '*.lib' (*.lib의 경우 무조건 정적 라이브러리에 해당되는 것은 아님.)
linux == '*.a'


##### 정적 라이브러리 장점
: 이식성이 좋고 안정적이다. 실행 파일이 정적 라이브러리를 복사해서 가지고 있으므로 실행할 때 라이브러리가 필요 없기 때문에, 실행 파일만 있어도 프로그램이 작동된다. 

##### 정적 라이브러리 단점 
: 
1. 실행 파일이 이미 라이브러리의 내용을 복사해서 가지고 있는 상태이기 때문에, 수정할 내용이 있으면 파일 전체를 다시 컴파일하여 재배포해야 한다.
2. 실행 파일이 라이브러리를 가지고 있기 때문에, 실행 파의 크기가 커진다.
3. 동일한 라이브러리를 가진 여러프로그램이 **동시에 '실행'** 될 경우 코드 중복으로 인해 메모리 자원을 낭비하게 된다.
4. 정적 라이브러리 전체를 링킹하면서 사용하지 않는 함수들까지 전부 다 프로그램에 포함시킨다.

=====

#### 동적 라이브러리(DLL, Dynamic Link Library, 공유 라이브러리 Shared Library)
: 동적 링킹(Dynamic Linking)과정에서 링커가 **라이브러리 내용을 복사하지 않고** 해당 내용의 주소만 가지고 있다가 런타임에 실행 파일과 라이브러리가 메모리에 위치할 경우 **'해당 주소로 가서 필요한 내용을 가져오는 방식'** 을 사용하는 라이브러리를 의미한다.

확장자명 : 
win == '*.dll'
linux == '*.so'


##### 동적 라이브러리 장점 
: 
1. 정적 라이브러리와는 다르게 실행 파일에 라이브러리를 파일을 가지지 않기 때문에 실행 파일의 크기가 작다.
2. 여러 프로그램이 동적 라이브러리를 메모리에 올련놓고 **공유해서 사용하기** 때문에 메모리 자원을 효율적으로 사용할 수 있다.
3. 실행 파일에 라이브러리를 올련놓지 않았기 때문에, 수정사항이 생겨도 새로 컴파일을 할 필요 없이 동적 라이브러리만 다시 컴파일항 재배포 할 수 있다.(라이브 패치?)


##### 동적 라이브러리 단점
:
1. 외부 의존도가 강하며 이식성이 낮다. 
동적 라이브러리를 사용하는 실행파일은 실행할 때 동적 라이브러리가 같이 필요하다. 만약 동적 라이브러리가 제대로 링크되어 있지 않거나, 버전이 틀리는 등의 문제가 있다면 실행이 안될 수 도 있다.
2. 매번 프로그램 영역에서 라이브러리가 저장되어 있는 주소로 이동하는 과정이 필요하기 때문에 **약간의 성능 감소** 가 있을 수 있다.


#### 동적 라이브러리(dll)의 분류
: 암시적 링킹 / 명시적 링킹은 **동적 라이브러리 함수를 호출하는 방법에 따라 나뉜다.**


##### 암시적 링킹(Implicit Linking)
: 실행 파일 자체에 **어떤 동적 라이브러리의 어떤 함수를 호출하겠다는 정보를 포함** 시키고 프로그램 실행시 해당 함수들을 초기화한 후 이용하는 방식이다. 

특징 : 
1. 해당 동적 라이브러리(*.dll)을 로드하며 동적 라이브러리에 정의된 함수를 마치 자신의 함수처럼 호출할 수 있다.

2. 실행 파일에 어떤 함수를 사용하겠단는 정보를 포함하기 위해서는 *lib 파일이 필요하다. 
(이 때의 *lib 파일은 **'정적 라이브러리가 아니라'** 암시적 링킹을 위해 필요한 심볼이 들어있는 **'*.lib'파일이다. 동적 링킹 과정에 꼭 필요하다.** 

3. 코드가 간결하여 사용하기 쉽다.

4. 프로그램 실행시 동적 라이브러리 파일이 로드 되기 때문에 **'실행시 연결'** 이라고 표현한다.


#### 명시적 링킹(Explicit Linking)
: 명시적 링킹은 프로그램이 실행중일 경우 *.dll 파일이 있느니 검사하고 동적으로 원하는 함수만 호출하는 방법이며, 호출할 함수의 포인터를 얻어 함수를 호출하는 방법이라 할 수 있다.

특징 : 
1. 링킹 과정에서 *.dll의 함수 정보가 필요하지 않기 때문에 *.lib 파일이 필요없다.

2. 자원을 아낄 수 있다. 직접 코드를 통해 원하는 함수만 불러와서 사용하는 방법으로 사용하지 않는 함수들까지 프로그램에 포함시킬 필요가 없기 때문이다.

3. 프로그램 실행시 동적 라이브러리 파일이 메모리에 읽히기 때문에 **'실행중 연결'** 이라고 표현한다.






